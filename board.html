<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="styles/button.css" />
    <link rel="stylesheet" href="styles/style_subtask.css" />
    <link rel="stylesheet" href="styles/style_top_menu.css" />
    <link rel="stylesheet" href="styles/style_index.css" />
    <link rel="stylesheet" href="styles/add_task_style.css" />
    <link rel="stylesheet" href="./styles/board.css">
    <script src="./JS/utils.js" defer></script>
    <script src="./JS/board.js" defer></script>
    <script src="./JS/fetch.js" defer></script>
    <script src="./JS/icons.js" defer></script>
    <script src="./JS/templates.js" defer></script>
    <script src="./JS/contacts.js" defer></script>
    <script src="./JS/tasks_subtasks.js" defer></script>
    <script src="./JS/tasks.js" defer></script>
    <script src="./script.js" defer></script>
    <title>Join Board</title>
</head>

<body data-page="board">
  <div class="display_grid">
    <header class="header_join">
      <div w3-include-html="partials/top_menu.html"></div>
    </header>
    <div class="navbar_shell" w3-include-html="partials/navbar.html"></div>

    <div class="board_help_div">
    <main class="board">
        <section id="board_head" class="board_head">
            <h1 class="board_title">Board</h1>
            <div class="board_head_btns">
                <div class="search_task_area">
                    <input type="text" class="search_task" placeholder="Find Task">
                    <img src="./assets/img/search_lens.svg" alt="search">
                </div>
                <button id="openAddTaskModalBtn" class="default-button add_task_button">Add task <img src="./assets/img/add.svg" alt="add"></button>
            </div>

        </section>
        <section id="task_section" class="task_section">
            <div class="to_do task_list_div">
                <div class="task_list_head">
                    <h2>To do</h2>
                    <button><img src="./assets/img/add.svg" alt="add"></button>
                </div>
                <div id="task_to_do" class="task_list">
                    <div class="no_task">
                        <p></p>
                    </div>
                </div>
            </div>
            <div class="in_progress task_list_div">
                <div class="task_list_head">
                    <h2>In progress</h2>
                    <button><img src="./assets/img/add.svg" alt="add"></button>
                </div>
                <div id="task_progress" class="task_list">
                    <div class="task">
                        <div class="t_category"><p>User Story</p></div>
                        <div class="t_title_description">
                            <p class="t_title">Kochwelt Page & Description</p>
                            <p class="t_description">build start page with recipe recommendation...</p>
                        </div>
                        <div class="t_sub_tasks">
                            <div class="t_sub_task_bar"></div>
                            <div class="t_sub_task_count">1/2 Subtasks</div>
                        </div>
                        <div class="t_assigned_priotity">
                            <div class="t_assigned_to">
                                <p>AM</p>
                                <p>ME</p>
                            </div>
                            <div class="t_priority"></div>
                        </div>
                    </div>
                </div>
                <!-- <div class="t_task">
                        <div class="t_category"></div>
                        <div class="t_title_description">
                            <p class="t_title"></p>
                            <p class="t_description"></p>
                        </div>
                        <div class="t_sub_tasks">
                            <div class="t_sub_task"></div>
                            <div class="t_sub_task_count"></div>
                        </div>
                        <div class="t_assigned_priotity">
                            <div class="t_assignet_to"></div>
                            <div class="t_priority"></div>
                        </div>
                    </div>-->
            </div>
            <div class="await_feedback task_list_div">
                <div class="task_list_head">
                    <h2>Await feedback</h2>
                    <button><img src="./assets/img/add.svg" alt="add"></button>
                </div>
                <div id="task_await" class="task_list">
                    <div class="task">
                        <div class="t_category"><p>User Story</p></div>
                        <div class="t_title_description">
                            <p class="t_title">Kochwelt Page & Description</p>
                            <p class="t_description">build start page with recipe recommendation...</p>
                        </div>
                        <div class="t_sub_tasks">
                            <div class="t_sub_task"></div>
                            <div class="t_sub_task_count">1/2 Subtasks</div>
                        </div>
                        <div class="t_assigned_priotity">
                            <div class="t_assigned_to">
                                <p>AM</p>
                                <p>ME</p>
                            </div>
                            <div class="t_priority"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="done task_list_div">
                <div class="task_list_head">
                    <h2>Done</h2>
                </div>
                <div id="task_done" class="task_list">
                    <div class="task">
                        <div class="t_category"><p>User Story</p></div>
                        <div class="t_title_description">
                            <p class="t_title">Kochwelt Page & Description</p>
                            <p class="t_description">build start page with recipe recommendation...</p>
                        </div>
                        <div class="t_sub_tasks">
                            <div class="t_sub_task"></div>
                            <div class="t_sub_task_count">1/2 Subtasks</div>
                        </div>
                        <div class="t_assigned_priotity">
                            <div class="t_assigned_to">
                                <p>AM</p>
                                <p>ME</p>
                            </div>
                            <div class="t_priority"></div>
                        </div>
                    </div>
                    <div class="task">
                        <div class="t_category"><p>User Story</p></div>
                        <div class="t_title_description">
                            <p class="t_title">Kochwelt Page & Description</p>
                            <p class="t_description">build start page with recipe recommendation...</p>
                        </div>
                        <div class="t_sub_tasks">
                            <div class="t_sub_task"></div>
                            <div class="t_sub_task_count">1/2 Subtasks</div>
                        </div>
                        <div class="t_assigned_priotity">
                            <div class="t_assigned_to">
                                <p>AM</p>
                                <p>ME</p>
                            </div>
                            <div class="t_priority"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</div>

<dialog id="addTaskModal" class="modal">
  <div class="add_task_modal_content">
    <button type="button" class="add_task_modal_close" aria-label="Close">×</button>
    <div id="addTaskModalHost"></div>
  </div>

  <!-- ✅ Task added Success Toast (inside dialog / top-layer) -->
  <div class="task_success_overlay" id="task_modal_success_overlay" aria-hidden="true" data-hold-ms="900">
    <div class="task_success_box" data-toast-box role="status" aria-live="polite">
      Task added to Board
    </div>
  </div>
</dialog>

<div id="addTaskLoader" style="display:none;"></div>


    <script>
        w3.includeHTML(() => {
            if (window.renderIcons) window.renderIcons(document);
            if (window.initPage) window.initPage();
            if (window.setActiveNavLink) window.setActiveNavLink();
        });
    </script>
</body>
</html>