function iconSvg({
  width = 18,
  height = 18,
  viewBox = "0 0 18 18",
  color = "var(--blue)",          // Default: #2A3647 via Variable
  paths = [],                     // Array: { d, fillRule?, clipRule? }
  extraAttrs = "",                // optional: z.B. aria-hidden
} = {}) {
  const pathMarkup = paths
    .map(p => {
      const fr = p.fillRule ? ` fill-rule="${p.fillRule}"` : "";
      const cr = p.clipRule ? ` clip-rule="${p.clipRule}"` : "";
      return `<path d="${p.d}" fill="currentColor"${fr}${cr}></path>`;
    })
    .join("");

  return `
    <svg
      width="${width}"
      height="${height}"
      viewBox="${viewBox}"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      style="color: ${color};"
      ${extraAttrs}
    >
      ${pathMarkup}
    </svg>
  `;
}

function recyBin({ width = 18, height = 18, color = "var(--blue)" } = {}) {
  return iconSvg({
    width,
    height,
    viewBox: "0 0 20 18",
    color,
    paths: [
      { d: "M7 18C6.45 18 5.97917 17.8042 5.5875 17.4125C5.19583 17.0208 5 16.55 5 16V3C4.71667 3 4.47917 2.9042 4.2875 2.7125C4.09583 2.5208 4 2.2833 4 2C4 1.7167 4.09583 1.4792 4.2875 1.2875C4.47917 1.0958 4.71667 1 5 1H9C9 0.7167 9.09583 0.4792 9.2875 0.2875C9.47917 0.0958 9.71667 0 10 0H14C14.2833 0 14.5208 0.0958 14.7125 0.2875C14.9042 0.4792 15 0.7167 15 1H19C19.2833 1 19.5208 1.0958 19.7125 1.2875C19.9042 1.4792 20 1.7167 20 2C20 2.2833 19.9042 2.5208 19.7125 2.7125C19.5208 2.9042 19.2833 3 19 3V16C19 16.55 18.8042 17.0208 18.4125 17.4125C18.0208 17.8042 17.55 18 17 18H7ZM7 3V16H17V3H7ZM9 13C9 13.2833 9.09583 13.5208 9.2875 13.7125C9.47917 13.9042 9.7167 14 10 14C10.2833 14 10.5208 13.9042 10.7125 13.7125C10.9042 13.5208 11 13.2833 11 13V6C11 5.7167 10.9042 5.4792 10.7125 5.2875C10.5208 5.0958 10.2833 5 10 5C9.7167 5 9.4792 5.0958 9.2875 5.2875C9.0958 5.4792 9 5.7167 9 6V13ZM13 13C13 13.2833 13.0958 13.5208 13.2875 13.7125C13.4792 13.9042 13.7167 14 14 14C14.2833 14 14.5208 13.9042 14.7125 13.7125C14.9042 13.5208 15 13.2833 15 13V6C15 5.7167 14.9042 5.4792 14.7125 5.2875C14.5208 5.0958 14.2833 5 14 5C13.7167 5 13.4792 5.0958 13.2875 5.2875C13.0958 5.4792 13 5.7167 13 6V13Z" },
    ],
  });
}

function delCross({ width = 18, height = 18 } = {}) {
  return `
    <svg width="${width}" height="${height}" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M9 11.4L4.1 16.3C3.91667 16.4833 3.68333 16.575 3.4 16.575C3.11667 16.575 2.88333 16.4833 2.7 16.3C2.51667 16.1167 2.425 15.8833 2.425 15.6C2.425 15.3167 2.51667 15.0833 2.7 14.9L7.6 10L2.7 5.1C2.51667 4.91667 2.425 4.68333 2.425 4.4C2.425 4.11667 2.51667 3.88333 2.7 3.7C2.88333 3.51667 3.11667 3.425 3.4 3.425C3.68333 3.425 3.91667 3.51667 4.1 3.7L9 8.6L13.9 3.7C14.0833 3.51667 14.3167 3.425 14.6 3.425C14.8833 3.425 15.1167 3.51667 15.3 3.7C15.4833 3.88333 15.575 4.11667 15.575 4.4C15.575 4.68333 15.4833 4.91667 15.3 5.1L10.4 10L15.3 14.9C15.4833 15.0833 15.575 15.3167 15.575 15.6C15.575 15.8833 15.4833 16.1167 15.3 16.3C15.1167 16.4833 14.8833 16.575 14.6 16.575C14.3167 16.575 14.0833 16.4833 13.9 16.3L9 11.4Z" fill="#2A3647"/>
    </svg>
  `;
}

function delCross({ width = 18, height = 18, color = "var(--blue)" } = {}) {
  return iconSvg({
    width,
    height,
    viewBox: "0 0 18 18",
    color,
    paths: [
      { d: "M9 11.4L4.1 16.3C3.91667 16.4833 3.68333 16.575 3.4 16.575C3.11667 16.575 2.88333 16.4833 2.7 16.3C2.51667 16.1167 2.425 15.8833 2.425 15.6C2.425 15.3167 2.51667 15.0833 2.7 14.9L7.6 10L2.7 5.1C2.51667 4.91667 2.425 4.68333 2.425 4.4C2.425 4.11667 2.51667 3.88333 2.7 3.7C2.88333 3.51667 3.11667 3.425 3.4 3.425C3.68333 3.425 3.91667 3.51667 4.1 3.7L9 8.6L13.9 3.7C14.0833 3.51667 14.3167 3.425 14.6 3.425C14.8833 3.425 15.1167 3.51667 15.3 3.7C15.4833 3.88333 15.575 4.11667 15.575 4.4C15.575 4.68333 15.4833 4.91667 15.3 5.1L10.4 10L15.3 14.9C15.4833 15.0833 15.575 15.3167 15.575 15.6C15.575 15.8833 15.4833 16.1167 15.3 16.3C15.1167 16.4833 14.8833 16.575 14.6 16.575C14.3167 16.575 14.0833 16.4833 13.9 16.3L9 11.4Z" },
    ],
  });
}


function confTick({ width = 18, height = 18 } = {}) {
  return `
    <svg width="${width}" height="${height}" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M6.5502 11.15L15.0252 2.675C15.2252 2.475 15.4627 2.375 15.7377 2.375C16.0127 2.375 16.2502 2.475 16.4502 2.675C16.6502 2.875 16.7502 3.1125 16.7502 3.3875C16.7502 3.6625 16.6502 3.9 16.4502 4.1L7.2502 13.3C7.0502 13.5 6.81687 13.6 6.5502 13.6C6.28354 13.6 6.0502 13.5 5.8502 13.3L1.5502 9C1.3502 8.8 1.25437 8.5625 1.2627 8.2875C1.27104 8.0125 1.3752 7.775 1.5752 7.575C1.7752 7.375 2.0127 7.275 2.2877 7.275C2.5627 7.275 2.8002 7.375 3.0002 7.575L6.5502 11.15Z" fill="#2A3647"/>
    </svg>
  `;
}

function editPencil({ width = 18, height = 18 } = {}) {
  return `
    <svg width="${width}" height="${height}" viewBox="0 0 18 19" fill="none"
         xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M2 17H3.4L12.025 8.375L10.625 6.975L2 15.6V17ZM16.3 6.925L12.05 2.725L13.45 1.325C13.8333 0.941667 14.3042 0.75 14.8625 0.75C15.4208 0.75 15.8917 0.941667 16.275 1.325L17.675 2.725C18.0583 3.10833 18.2583 3.57083 18.275 4.1125C18.2917 4.65417 18.1083 5.11667 17.725 5.5L16.3 6.925ZM14.85 8.4L4.25 19H0V14.75L10.6 4.15L14.85 8.4Z" fill="#2A3647"/>
    </svg>
  `;
}

function addCross({ width = 18, height = 18, color = "var(--blue)" } = {}) {
  return iconSvg({
    width,
    height,
    viewBox: "0 0 18 18",
    color,
    paths: [
      { d: "M8 9H3C2.71667 9 2.47917 8.90417 2.2875 8.7125C2.09583 8.52083 2 8.28333 2 8C2 7.71667 2.09583 7.47917 2.2875 7.2875C2.47917 7.09583 2.71667 7 3 7H8V2C8 1.71667 8.09583 1.47917 8.2875 1.2875C8.47917 1.09583 8.71667 1 9 1C9.28333 1 9.52083 1.09583 9.7125 1.2875C9.90417 1.47917 10 1.71667 10 2V7H15C15.2833 7 15.5208 7.09583 15.7125 7.2875C15.9042 7.47917 16 7.71667 16 8C16 8.28333 15.9042 8.52083 15.7125 8.7125C15.5208 8.90417 15.2833 9 15 9H10V14C10 14.2833 9.90417 14.5208 9.7125 14.7125C9.52083 14.9042 9.28333 15 9 15C8.71667 15 8.47917 14.9042 8.2875 14.7125C8.09583 14.5208 8 14.2833 8 14V9Z" },
    ],
  });
}

function mail({ width = 20, height = 16, color = "var(--border_color)" } = {}) {
  return iconSvg({
    width,
    height,
    viewBox: "0 0 20 16",
    color,
    paths: [
      {
        d: "M2 16C1.45 16 0.979167 15.8042 0.5875 15.4125C0.195833 15.0208 0 14.55 0 14V2C0 1.45 0.195833 0.979167 0.5875 0.5875C0.979167 0.195833 1.45 0 2 0H18C18.55 0 19.0208 0.195833 19.4125 0.5875C19.8042 0.979167 20 1.45 20 2V14C20 14.55 19.8042 15.0208 19.4125 15.4125C19.0208 15.8042 18.55 16 18 16H2ZM18 4L10.525 8.675C10.4417 8.725 10.3542 8.7625 10.2625 8.7875C10.1708 8.8125 10.0833 8.825 10 8.825C9.91667 8.825 9.82917 8.8125 9.7375 8.7875C9.64583 8.7625 9.55833 8.725 9.475 8.675L2 4V14H18V4ZM10 7L18 2H2L10 7Z"
      }
    ]
  });
}

function lock({ width = 16, height = 21, color = "var(--border_color)" } = {}) {
  return iconSvg({
    width,
    height,
    viewBox: "0 0 16 21",
    color,
    paths: [
      {
        d: "M2 21C1.45 21 0.979167 20.8042 0.5875 20.4125C0.195833 20.0208 0 19.55 0 19V9C0 8.45 0.195833 7.97917 0.5875 7.5875C0.979167 7.19583 1.45 7 2 7H3V5C3 3.61667 3.4875 2.4375 4.4625 1.4625C5.4375 0.4875 6.61667 0 8 0C9.38333 0 10.5625 0.4875 11.5375 1.4625C12.5125 2.4375 13 3.61667 13 5V7H14C14.55 7 15.0208 7.19583 15.4125 7.5875C15.8042 7.97917 16 8.45 16 9V19C16 19.55 15.8042 20.0208 15.4125 20.4125C15.0208 20.8042 14.55 21 14 21H2ZM2 19H14V9H2V19ZM8 16C8.55 16 9.02083 15.8042 9.4125 15.4125C9.80417 15.0208 10 14.55 10 14C10 13.45 9.80417 12.9792 9.4125 12.5875C9.02083 12.1958 8.55 12 8 12C7.45 12 6.97917 12.1958 6.5875 12.5875C6.19583 12.9792 6 13.45 6 14C6 14.55 6.19583 15.0208 6.5875 15.4125C6.97917 15.8042 7.45 16 8 16ZM5 7H11V5C11 4.16667 10.7083 3.45833 10.125 2.875C9.54167 2.29167 8.83333 2 8 2C7.16667 2 6.45833 2.29167 5.875 2.875C5.29167 3.45833 5 4.16667 5 5V7Z"
      }
    ]
  });
}

/* einfache Eye-Icons (wenn du andere Pfade hast, kannst du sie später austauschen) */
function eye_open({ width = 25, height = 25, color = "var(--border_color)" } = {}) {
  return iconSvg({
    width,
    height,
    viewBox: "0 0 22 15",
    color,
    paths: [
      { d: "M10.825 12C12.075 12 13.1375 11.5625 14.0125 10.6875C14.8875 9.8125 15.325 8.75 15.325 7.5C15.325 6.25 14.8875 5.1875 14.0125 4.3125C13.1375 3.4375 12.075 3 10.825 3C9.575 3 8.5125 3.4375 7.6375 4.3125C6.7625 5.1875 6.325 6.25 6.325 7.5C6.325 8.75 6.7625 9.8125 7.6375 10.6875C8.5125 11.5625 9.575 12 10.825 12ZM10.825 10.2C10.075 10.2 9.4375 9.9375 8.9125 9.4125C8.3875 8.8875 8.125 8.25 8.125 7.5C8.125 6.75 8.3875 6.1125 8.9125 5.5875C9.4375 5.0625 10.075 4.8 10.825 4.8C11.575 4.8 12.2125 5.0625 12.7375 5.5875C13.2625 6.1125 13.525 6.75 13.525 7.5C13.525 8.25 13.2625 8.8875 12.7375 9.4125C12.2125 9.9375 11.575 10.2 10.825 10.2ZM10.825 15C8.50833 15 6.39167 14.3875 4.475 13.1625C2.55833 11.9375 1.10833 10.2833 0.125 8.2C0.075 8.11667 0.0416667 8.0125 0.025 7.8875C0.00833333 7.7625 0 7.63333 0 7.5C0 7.36667 0.00833333 7.2375 0.025 7.1125C0.0416667 6.9875 0.075 6.88333 0.125 6.8C1.10833 4.71667 2.55833 3.0625 4.475 1.8375C6.39167 0.6125 8.50833 0 10.825 0C13.1417 0 15.2583 0.6125 17.175 1.8375C19.0917 3.0625 20.5417 4.71667 21.525 6.8C21.575 6.88333 21.6083 6.9875 21.625 7.1125C21.6417 7.2375 21.65 7.36667 21.65 7.5C21.65 7.63333 21.6417 7.7625 21.625 7.8875C21.6083 8.0125 21.575 8.11667 21.525 8.2C20.5417 10.2833 19.0917 11.9375 17.175 13.1625C15.2583 14.3875 13.1417 15 10.825 15ZM10.825 13C12.7083 13 14.4375 12.5042 16.0125 11.5125C17.5875 10.5208 18.7917 9.18333 19.625 7.5C18.7917 5.81667 17.5875 4.47917 16.0125 3.4875C14.4375 2.49583 12.7083 2 10.825 2C8.94167 2 7.2125 2.49583 5.6375 3.4875C4.0625 4.47917 2.85833 5.81667 2.025 7.5C2.85833 9.18333 4.0625 10.5208 5.6375 11.5125C7.2125 12.5042 8.94167 13 10.825 13Z" }
    ]
  });
}

function eye_closed({ width = 25, height = 25, color = "var(--border_color)" } = {}) {
  return iconSvg({
    width,
    height,
    viewBox: "0 0 22 15",
    color,
    paths: [
      { d: "M14.925 10.075L13.475 8.625C13.625 7.84167 13.4 7.10833 12.8 6.425C12.2 5.74167 11.425 5.475 10.475 5.625L9.025 4.175C9.30833 4.04167 9.59583 3.94167 9.8875 3.875C10.1792 3.80833 10.4917 3.775 10.825 3.775C12.075 3.775 13.1375 4.2125 14.0125 5.0875C14.8875 5.9625 15.325 7.025 15.325 8.275C15.325 8.60833 15.2917 8.92083 15.225 9.2125C15.1583 9.50417 15.0583 9.79167 14.925 10.075ZM18.125 13.225L16.675 11.825C17.3083 11.3417 17.8708 10.8125 18.3625 10.2375C18.8542 9.6625 19.275 9.00833 19.625 8.275C18.7917 6.59167 17.5958 5.25417 16.0375 4.2625C14.4792 3.27083 12.7417 2.775 10.825 2.775C10.3417 2.775 9.86667 2.80833 9.4 2.875C8.93333 2.94167 8.475 3.04167 8.025 3.175L6.475 1.625C7.15833 1.34167 7.85833 1.12917 8.575 0.9875C9.29167 0.845833 10.0417 0.775 10.825 0.775C13.2083 0.775 15.35 1.40417 17.25 2.6625C19.15 3.92083 20.575 5.55833 21.525 7.575C21.575 7.65833 21.6083 7.7625 21.625 7.8875C21.6417 8.0125 21.65 8.14167 21.65 8.275C21.65 8.40833 21.6375 8.5375 21.6125 8.6625C21.5875 8.7875 21.5583 8.89167 21.525 8.975C21.1417 9.825 20.6625 10.6083 20.0875 11.325C19.5125 12.0417 18.8583 12.675 18.125 13.225ZM17.925 18.675L14.425 15.225C13.8417 15.4083 13.2542 15.5458 12.6625 15.6375C12.0708 15.7292 11.4583 15.775 10.825 15.775C8.44167 15.775 6.3 15.1458 4.4 13.8875C2.5 12.6292 1.075 10.9917 0.125 8.975C0.075 8.89167 0.0416667 8.7875 0.025 8.6625C0.00833333 8.5375 0 8.40833 0 8.275C0 8.14167 0.00833333 8.01667 0.025 7.9C0.0416667 7.78333 0.075 7.68333 0.125 7.6C0.475 6.85 0.891667 6.15833 1.375 5.525C1.85833 4.89167 2.39167 4.30833 2.975 3.775L0.9 1.675C0.716667 1.49167 0.625 1.2625 0.625 0.9875C0.625 0.7125 0.725 0.475 0.925 0.275C1.10833 0.0916667 1.34167 0 1.625 0C1.90833 0 2.14167 0.0916667 2.325 0.275L19.325 17.275C19.5083 17.4583 19.6042 17.6875 19.6125 17.9625C19.6208 18.2375 19.525 18.475 19.325 18.675C19.1417 18.8583 18.9083 18.95 18.625 18.95C18.3417 18.95 18.1083 18.8583 17.925 18.675ZM4.375 5.175C3.89167 5.60833 3.45 6.08333 3.05 6.6C2.65 7.11667 2.30833 7.675 2.025 8.275C2.85833 9.95833 4.05417 11.2958 5.6125 12.2875C7.17083 13.2792 8.90833 13.775 10.825 13.775C11.1583 13.775 11.4833 13.7542 11.8 13.7125C12.1167 13.6708 12.4417 13.625 12.775 13.575L11.875 12.625C11.6917 12.675 11.5167 12.7125 11.35 12.7375C11.1833 12.7625 11.0083 12.775 10.825 12.775C9.575 12.775 8.5125 12.3375 7.6375 11.4625C6.7625 10.5875 6.325 9.525 6.325 8.275C6.325 8.09167 6.3375 7.91667 6.3625 7.75C6.3875 7.58333 6.425 7.40833 6.475 7.225L4.375 5.175Z" }
    ]
  });
}

function person({ width = 16, height = 16, color = "var(--border_color)" } = {}) {
  return iconSvg({
    width,
    height,
    viewBox: "0 0 16 16",
    color,
    paths: [
      {
        d: "M8 8C6.9 8 5.95833 7.60833 5.175 6.825C4.39167 6.04167 4 5.1 4 4C4 2.9 4.39167 1.95833 5.175 1.175C5.95833 0.391667 6.9 0 8 0C9.1 0 10.0417 0.391667 10.825 1.175C11.6083 1.95833 12 2.9 12 4C12 5.1 11.6083 6.04167 10.825 6.825C10.0417 7.60833 9.1 8 8 8ZM14 16H2C1.45 16 0.979167 15.8042 0.5875 15.4125C0.195833 15.0208 0 14.55 0 14V13.2C0 12.6333 0.145833 12.1125 0.4375 11.6375C0.729167 11.1625 1.11667 10.8 1.6 10.55C2.63333 10.0333 3.68333 9.64583 4.75 9.3875C5.81667 9.12917 6.9 9 8 9C9.1 9 10.1833 9.12917 11.25 9.3875C12.3167 9.64583 13.3667 10.0333 14.4 10.55C14.8833 10.8 15.2708 11.1625 15.5625 11.6375C15.8542 12.1125 16 12.6333 16 13.2V14C16 14.55 15.8042 15.0208 15.4125 15.4125C15.0208 15.8042 14.55 16 14 16ZM2 14H14V13.2C14 13.0167 13.9542 12.85 13.8625 12.7C13.7708 12.55 13.65 12.4333 13.5 12.35C12.6 11.9 11.6917 11.5625 10.775 11.3375C9.85833 11.1125 8.93333 11 8 11C7.06667 11 6.14167 11.1125 5.225 11.3375C4.30833 11.5625 3.4 11.9 2.5 12.35C2.35 12.4333 2.22917 12.55 2.1375 12.7C2.04583 12.85 2 13.0167 2 13.2V14ZM8 6C8.55 6 9.02083 5.80417 9.4125 5.4125C9.80417 5.02083 10 4.55 10 4C10 3.45 9.80417 2.97917 9.4125 2.5875C9.02083 2.19583 8.55 2 8 2C7.45 2 6.97917 2.19583 6.5875 2.5875C6.19583 2.97917 6 3.45 6 4C6 4.55 6.19583 5.02083 6.5875 5.4125C6.97917 5.80417 7.45 6 8 6Z"
      }
    ],
  });
}


// ---------- ICON REGISTRY ----------
const ICONS = {
  recyBin,
  editPencil,
  addCross,
  delCross,
  mail,
  lock,
  eye_open,
  eye_closed,
  person,
};

function renderIcons(root = document) {
  if (!root || !root.querySelectorAll) return;

  root.querySelectorAll("[data-icon]").forEach(el => {
    const name = el.dataset.icon;
    const fn = ICONS[name];
    if (typeof fn !== "function") {
      console.warn("Unknown icon:", name, el);
      return;
    }

    const width = Number(el.dataset.w) || undefined;
    const height = Number(el.dataset.h) || undefined;

    // nur übergeben, wenn gesetzt (damit defaults der Icons greifen)
    const args = {};
    if (width) args.width = width;
    if (height) args.height = height;

    el.innerHTML = fn(args);

    const svg = el.querySelector("svg");
    if (svg) svg.setAttribute("aria-hidden", "true");
  });
}

window.renderIcons = renderIcons;